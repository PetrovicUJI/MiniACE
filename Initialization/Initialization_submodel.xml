<!DOCTYPE xmodel SYSTEM "http://miniace.cs.bilgi.edu.tr/XMML.dtd">
<xmodel version="2" >
	<name>Initialization</name>
	<version>Version 2.1, 23/09/2017</version>
	<description>Authors: Marko Petrovic</description>
	<models/>
	<environment>
		<constants>
			<!-- <variable>
			<type>double</type>
			<name>rawmat2output_innovation</name>
			<description></description>
			</variable> -->
		</constants>
		<functionFiles>
			<file>Firm_initialization_functions.c</file>
			<file>PCFirm_initialization_functions.c</file>
			<file>Household_initialization_functions.c</file>
			<file>Government_initialization_functions.c</file>
			<file>Bank_initialization_functions.c</file>
			<file>Central_Bank_initialization_functions.c</file>
			<file>Final_Goods_Market_initialization_functions.c</file>
		</functionFiles>
		<timeUnits/>
		<dataTypes>
			<dataType>
				<name>Enterprise_init</name>
				<description>Used by government to initialize agents.</description>
				<variables>
					<!-- (enterprise_id, outstanding_shares, share_book_value) -->
					<variable>
						<type>int</type>
						<name>enterprise_id</name>
						<description>ID of agents.</description>
					</variable>
					<variable>
						<type>double</type>
						<name>outstanding_shares</name>
						<description>The number of outstanding shares.</description>
					</variable>
					<variable>
						<type>double</type>
						<name>share_book_value</name>
						<description>The book value of shares.</description>
					</variable>
				</variables>
			</dataType>
		</dataTypes>
	</environment>
	<agents>
		<xagent>
			<name>Firm</name>
			<description></description>
			<memory>
				<variable>
					<type>int</type>
					<name>initialization</name>
					<description>Initialization flag. 1 indicates that the agent goes through the initialization process.</description>
				</variable>
			</memory>
			<functions>
				<function>
					<name>Firm_initialization</name>
					<description></description>
					<currentState>Start_Firm</currentState>
					<nextState>Firm_Initialization</nextState>
					<condition>
						<lhs>
							<value>a.initialization</value>
						</lhs>
						<op>EQ</op>
						<rhs>
							<value>1</value>
						</rhs>
					</condition>
					<inputs/>
					<outputs>
						<output>
							<messageName>init_firm_to_gov</messageName>
						</output>
					</outputs>
				</function>
				<function>
					<name>Firm_receive_initialization</name>
					<description></description>
					<currentState>Firm_Initialization</currentState>
					<nextState>Firm_Info</nextState>
					<inputs>
						<input>
							<messageName>gov_init_labor</messageName>
							<filter>
								<lhs>
									<value>a.id</value>
								</lhs>
								<op>EQ</op>
								<rhs>
									<value>m.employer_id</value>
								</rhs>
							</filter>
						</input>
						<input>
							<messageName>gov_init_balance_sheets</messageName>
							<filter>
								<lhs>
									<value>a.id</value>
								</lhs>
								<op>EQ</op>
								<rhs>
									<value>m.agent_id</value>
								</rhs>
							</filter>
						</input>
						<input>
							<messageName>pcfirm_price_info</messageName>
						</input>
					</inputs>
					<outputs>
						<output>
							<messageName>final_goods_init_shipping</messageName>
						</output>
					</outputs>
				</function>
				<function>
					<name>Idle</name>
					<description></description>
					<currentState>Start_Firm</currentState>
					<nextState>Firm_Info</nextState>
					<condition>
						<lhs>
							<value>a.initialization</value>
						</lhs>
						<op>EQ</op>
						<rhs>
							<value>0</value>
						</rhs>
					</condition>
					<inputs/>
					<outputs/>
				</function>
			</functions>
		</xagent>
		<xagent>
			<name>Household</name>
			<description></description>
			<memory>
				<variable>
					<type>int</type>
					<name>initialization</name>
					<description>Initialization flag. 1 indicates that the agent goes through the initialization process.</description>
				</variable>
			</memory>
			<functions>
				<function>
					<name>Household_initialization</name>
					<description></description>
					<currentState>Start_Household</currentState>
					<nextState>Household_Info</nextState>
					<condition>
						<lhs>
							<value>a.initialization</value>
						</lhs>
						<op>EQ</op>
						<rhs>
							<value>1</value>
						</rhs>
					</condition>
					<inputs/>
					<outputs>
						<output>
							<messageName>init_hh_to_gov</messageName>
						</output>
					</outputs>
				</function>
				<function>
					<name>Idle</name>
					<description></description>
					<currentState>Start_Household</currentState>
					<nextState>Household_Initialization</nextState>
					<condition>
						<lhs>
							<value>a.initialization</value>
						</lhs>
						<op>EQ</op>
						<rhs>
							<value>0</value>
						</rhs>
					</condition>
					<inputs/>
					<outputs/>
				</function>
				<function>
					<name>Household_receive_initialization</name>
					<description></description>
					<currentState>Household_Initialization</currentState>
					<nextState>Household_Info</nextState>
					<inputs>
						<input>
							<messageName>gov_to_hh_init_shares</messageName>
							<filter>
								<lhs>
									<value>a.id</value>
								</lhs>
								<op>EQ</op>
								<rhs>
									<value>m.hh_id</value>
								</rhs>
							</filter>
						</input>
						<input>
							<messageName>gov_init_labor</messageName>
							<filter>
								<lhs>
									<value>a.id</value>
								</lhs>
								<op>EQ</op>
								<rhs>
									<value>m.hh_id</value>
								</rhs>
							</filter>
						</input>
						<input>
							<messageName>gov_init_balance_sheets</messageName>
							<filter>
								<lhs>
									<value>a.id</value>
								</lhs>
								<op>EQ</op>
								<rhs>
									<value>m.agent_id</value>
								</rhs>
							</filter>
						</input>
					</inputs>
					<outputs/>
				</function>
			</functions>
		</xagent>
		<xagent>
			<name>Government</name>
			<description></description>
			<memory>
				<variable>
					<type>int</type>
					<name>initialization</name>
					<description>Initialization flag. 1 indicates that the agent goes through the initialization process.</description>
				</variable>
			</memory>
			<functions>
				<function>
					<name>Government_initialization</name>
					<description></description>
					<currentState>Start_Government</currentState>
					<nextState>Government_PolicySetting</nextState>
					<condition>
						<lhs>
							<value>a.initialization</value>
						</lhs>
						<op>EQ</op>
						<rhs>
							<value>1</value>
						</rhs>
					</condition>
					<inputs>
						<input>
							<messageName>init_firm_to_gov</messageName>
						</input>
						<input>
							<messageName>init_pcfirm_to_gov</messageName>
						</input>
						<input>
							<messageName>init_hh_to_gov</messageName>
						</input>
						<input>
							<messageName>init_bank_to_gov</messageName>
						</input>
						<input>
							<messageName>pcfirm_price_info</messageName>
						</input>
						<input>
							<messageName>init_cb_to_gov</messageName>
						</input>
					</inputs>
					<outputs>
						<output>
							<messageName>gov_to_hh_init_shares</messageName>
						</output>
						<output>
							<messageName>gov_init_labor</messageName>
						</output>
						<output>
							<messageName>gov_init_balance_sheets</messageName>
						</output>
					</outputs>
				</function>
				<function>
					<name>Idle</name>
					<description></description>
					<currentState>Start_Government</currentState>
					<nextState>Government_PolicySetting</nextState>
					<condition>
						<lhs>
							<value>a.initialization</value>
						</lhs>
						<op>EQ</op>
						<rhs>
							<value>0</value>
						</rhs>
					</condition>
					<inputs/>
					<outputs/>
				</function>
			</functions>
		</xagent>
		<xagent>
			<name>Bank</name>
			<description></description>
			<memory>
				<variable>
					<type>int</type>
					<name>initialization</name>
					<description>Initialization flag. 1 indicates that the agent goes through the initialization process.</description>
				</variable>
				<variable>
					<type>double</type>
					<name>outstanding_shares</name>
					<description>The total number of shares.</description>
				</variable>
			</memory>
			<functions>
				<function>
					<name>Bank_initialization</name>
					<description></description>
					<currentState>Start_Bank</currentState>
					<nextState>Bank_Initialization</nextState>
					<condition>
						<lhs>
							<value>a.initialization</value>
						</lhs>
						<op>EQ</op>
						<rhs>
							<value>1</value>
						</rhs>
					</condition>
					<inputs/>
					<outputs>
						<output>
							<messageName>init_bank_to_gov</messageName>
						</output>
					</outputs>
				</function>
				<function>
					<name>Bank_receive_initialization</name>
					<description></description>
					<currentState>Bank_Initialization</currentState>
					<nextState>Bank_Info</nextState>
					<inputs>
						<input>
							<messageName>gov_init_balance_sheets</messageName>
							<filter>
								<lhs>
									<value>a.id</value>
								</lhs>
								<op>EQ</op>
								<rhs>
									<value>m.agent_id</value>
								</rhs>
							</filter>
						</input>
					</inputs>
					<outputs/>
				</function>
				<function>
					<name>Idle</name>
					<description></description>
					<currentState>Start_Bank</currentState>
					<nextState>Bank_Info</nextState>
					<condition>
						<lhs>
							<value>a.initialization</value>
						</lhs>
						<op>EQ</op>
						<rhs>
							<value>0</value>
						</rhs>
					</condition>
					<inputs/>
					<outputs/>
				</function>
			</functions>
		</xagent>
		<xagent>
			<name>PCFirm</name>
			<description></description>
			<memory>
				<variable>
					<type>int</type>
					<name>initialization</name>
					<description>Initialization flag. 1 indicates that the agent goes through the initialization process.</description>
				</variable>
				<variable>
					<type>double</type>
					<name>outstanding_shares</name>
					<description>The total number of shares.</description>
				</variable>
			</memory>
			<functions>
				<function>
					<name>PCFirm_initialization</name>
					<description></description>
					<currentState>Start_PCFirm</currentState>
					<nextState>PCFirm_PolicyInfo</nextState>
					<condition>
						<lhs>
							<value>a.initialization</value>
						</lhs>
						<op>EQ</op>
						<rhs>
							<value>1</value>
						</rhs>
					</condition>
					<inputs/>
					<outputs>
						<output>
							<messageName>init_pcfirm_to_gov</messageName>
						</output>
						<output>
							<messageName>pcfirm_price_info</messageName>
						</output>
					</outputs>
				</function>
				<function>
					<name>Idle</name>
					<description></description>
					<currentState>Start_PCFirm</currentState>
					<nextState>PCFirm_PolicyInfo</nextState>
					<condition>
						<lhs>
							<value>a.initialization</value>
						</lhs>
						<op>EQ</op>
						<rhs>
							<value>0</value>
						</rhs>
					</condition>
					<inputs/>
					<outputs/>
				</function>
			</functions>
		</xagent>
		<xagent>
			<name>Central_Bank</name>
			<description></description>
			<memory>
				<variable>
					<type>int</type>
					<name>initialization</name>
					<description>Initialization flag. 1 indicates that the agent goes through the initialization process.</description>
				</variable>
			</memory>
			<functions>
				<function>
					<name>CB_initialization</name>
					<description></description>
					<currentState>Start_Central_Bank</currentState>
					<nextState>CB_Initialization</nextState>
					<condition>
						<lhs>
							<value>a.initialization</value>
						</lhs>
						<op>EQ</op>
						<rhs>
							<value>1</value>
						</rhs>
					</condition>
					<inputs/>
					<outputs>
						<output>
							<messageName>init_cb_to_gov</messageName>
						</output>
					</outputs>
				</function>
				<function>
					<name>CB_receive_initialization</name>
					<description></description>
					<currentState>CB_Initialization</currentState>
					<nextState>CB_PolicySetting</nextState>
					<inputs>
						<input>
							<messageName>gov_init_balance_sheets</messageName>
							<filter>
								<lhs>
									<value>a.id</value>
								</lhs>
								<op>EQ</op>
								<rhs>
									<value>m.agent_id</value>
								</rhs>
							</filter>
						</input>
					</inputs>
					<outputs/>
				</function>
				<function>
					<name>Idle</name>
					<description></description>
					<currentState>Start_Central_Bank</currentState>
					<nextState>CB_PolicySetting</nextState>
					<condition>
						<lhs>
							<value>a.initialization</value>
						</lhs>
						<op>EQ</op>
						<rhs>
							<value>0</value>
						</rhs>
					</condition>
					<inputs/>
					<outputs/>
				</function>
			</functions>
		</xagent>
		<xagent>
			<name>Final_Goods_Market</name>
			<description></description>
			<memory>
				<variable>
					<type>int</type>
					<name>initialization</name>
					<description>Initialization flag. 1 indicates that the agent goes through the initialization process.</description>
				</variable>
			</memory>
			<functions>
				<function>
					<name>FGM_initialization</name>
					<description></description>
					<currentState>Start_Final_Goods_Market</currentState>
					<nextState>FGM_Collection</nextState>
					<condition>
						<lhs>
							<value>a.initialization</value>
						</lhs>
						<op>EQ</op>
						<rhs>
							<value>1</value>
						</rhs>
					</condition>
					<inputs>
						<input>
							<messageName>final_goods_init_shipping</messageName>
						</input>
					</inputs>
					<outputs/>
				</function>
				<function>
					<name>Idle</name>
					<description></description>
					<currentState>Start_Final_Goods_Market</currentState>
					<nextState>FGM_Collection</nextState>
					<condition>
						<lhs>
							<value>a.initialization</value>
						</lhs>
						<op>EQ</op>
						<rhs>
							<value>0</value>
						</rhs>
					</condition>
					<inputs/>
					<outputs/>
				</function>
			</functions>
		</xagent>
	</agents>
	<messages>
		<message>
			<name>init_firm_to_gov</name>
			<description>Message added by firm to initialize.</description>
			<variables>
			<!-- (firm_id, outstanding_shares) -->
				<variable>
					<type>int</type>
					<name>firm_id</name>
					<description>ID of agents.</description>
				</variable>
				<variable>
					<type>double</type>
					<name>outstanding_shares</name>
					<description>The number of outstanding shares.</description>
				</variable>
			</variables>
		</message>
		<message>
			<name>init_hh_to_gov</name>
			<description>Message added by firm to initialize.</description>
			<variables>
			<!-- (hh_id) -->
				<variable>
					<type>int</type>
					<name>hh_id</name>
					<description>ID of agents.</description>
				</variable>
			</variables>
		</message>
		<message>
			<name>init_bank_to_gov</name>
			<description>Message added by banks to initialize.</description>
			<variables>
			<!-- (bank_id, outstanding_shares) -->
				<variable>
					<type>int</type>
					<name>bank_id</name>
					<description>ID of agents.</description>
				</variable>
				<variable>
					<type>double</type>
					<name>outstanding_shares</name>
					<description>The number of outstanding shares.</description>
				</variable>
			</variables>
		</message>
		<message>
			<name>init_cb_to_gov</name>
			<description>Message added by the central banks to initialize.</description>
			<variables>
			<!-- (cb_id) -->
				<variable>
					<type>int</type>
					<name>cb_id</name>
					<description>ID of agents.</description>
				</variable>
			</variables>
		</message>
		<message>
			<name>init_pcfirm_to_gov</name>
			<description>Message added by pcfirms to initialize.</description>
			<variables>
			<!-- (pcfirm_id, outstanding_shares) -->
				<variable>
					<type>int</type>
					<name>pcfirm_id</name>
					<description>ID of agents.</description>
				</variable>
				<variable>
					<type>double</type>
					<name>outstanding_shares</name>
					<description>The number of outstanding shares.</description>
				</variable>
			</variables>
		</message>
		<message>
			<name>pcfirm_price_info</name>
			<description>Message added by pcfirms to comunicate physical capital price.</description>
			<variables>
			<!-- (pcfirm_id, pc_price, technology) -->
				<variable>
					<type>int</type>
					<name>pcfirm_id</name>
					<description>ID of agents.</description>
				</variable>
				<variable>
					<type>double</type>
					<name>pc_price</name>
					<description>Physical capital price.</description>
				</variable>
				<variable>
					<type>double</type>
					<name>technology</name>
					<description>Technology of physical capital.</description>
				</variable>
			</variables>
		</message>
		<message>
			<name>gov_to_hh_init_shares</name>
			<description>Message added by pcfirms to initialize.</description>
			<variables>
			<!-- (hh_id, enterprise_id, shares, share_book_value) -->
				<variable>
					<type>int</type>
					<name>hh_id</name>
					<description>ID of agents.</description>
				</variable>
				<variable>
					<type>int</type>
					<name>enterprise_id</name>
					<description>ID of agents.</description>
				</variable>
				<variable>
					<type>int</type>
					<name>shares</name>
					<description>The number of shares.</description>
				</variable>
				<variable>
					<type>double</type>
					<name>share_book_value</name>
					<description>The book value of shares.</description>
				</variable>
			</variables>
		</message>
		<message>
			<name>gov_init_labor</name>
			<description>Message added by governemnt to initialize labor.</description>
			<variables>
			<!-- (hh_id, employer_id, activation_day) -->
				<variable>
					<type>int</type>
					<name>hh_id</name>
					<description>ID of agents.</description>
				</variable>
				<variable>
					<type>int</type>
					<name>employer_id</name>
					<description>ID of agents.</description>
				</variable>
				<variable>
					<type>int</type>
					<name>activation_day</name>
					<description>Firm activation_day.</description>
				</variable>
			</variables>
		</message>
		<message>
			<name>gov_init_balance_sheets</name>
			<description>Message added by governemnt to initialize balance_sheets.</description>
			<variables>
			<!-- (agent_id, current_assets, non_current_assets, payment_account, current_liabilities, non_current_liabilities) -->
				<variable>
					<type>int</type>
					<name>agent_id</name>
					<description>ID of agents.</description>
				</variable>
				<variable>
					<type>double</type>
					<name>current_assets</name>
					<description></description>
				</variable>
					<variable>
					<type>double</type>
					<name>non_current_assets</name>
					<description></description>
				</variable>
				<variable>
					<type>double</type>
					<name>payment_account</name>
					<description></description>
				</variable>
				<variable>
					<type>double</type>
					<name>current_liabilities</name>
					<description></description>
				</variable>
				<variable>
					<type>double</type>
					<name>non_current_liabilities</name>
					<description></description>
				</variable>
			</variables>
		</message>
		<message>
			<name>final_goods_init_shipping</name>
			<description>Message added by a producer to send final products to the market in the initialization phase.</description>
			<variables>
			<!-- (seller_id, quantity, price) -->
				<variable>
					<type>int</type>
					<name>seller_id</name>
					<description></description>
				</variable>
				<variable>
					<type>double</type>
					<name>quantity</name>
					<description>The stock of the final good.</description>
				</variable>
				<variable>
					<type>double</type>
					<name>price</name>
					<description>The price of the final good.</description>
				</variable>
			</variables>
		</message>
		
	</messages>
</xmodel>
